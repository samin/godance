(this.webpackJsonpgodance=this.webpackJsonpgodance||[]).push([[0],{38:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),o=a(7),d=a.n(o),r=a(8),i=a.n(r),c=a(1),l=a(9),h=a(10),f=a(13),p=a(11),b=a(12),u=(a(38),a(0)),j=[10,90],g=[10,60],w=function(e){var t=Object(b.a)(e,2),a=t[0],s=t[1];return Math.floor(Math.random()*(s-a+1)+a)/100},x=function(e){var t=window.handsfree.debug.$canvas.pose.clientWidth,a=window.handsfree.debug.$canvas.pose.clientHeight;return{left:(1-e.x)*t,top:e.y*a}},y=function(e){Object(f.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).hitTarget=function(e){var t=s.state,a=t.hits,n=t.targets;n.forEach((function(t,o){if(r=t.x,i=t.y,c=.07,l=e.x,h=e.y,(l-r)*(l-r)+(h-i)*(h-i)<=c*c){var d={x:w(j),y:w(g)};n[o].x=d.x,n[o].y=0,s.setState({targets:n,hits:a+1})}var r,i,c,l,h}))},s.stopHandsfree=function(){window.handsfree.stop(),s.interval&&clearInterval(s.interval),s.falling&&clearInterval(s.falling)},s.startHandsfree=function(){var e=s.state,t=e.time,a=e.targets,n=e.falls;window.handsfree.start(),window.handsfree.on("modelReady",(function(){s.falling=setInterval((function(){a=a.map((function(e){return e.y>=1&&(n+=1),e.y=e.y>1?0:e.y+e.speed,e})),s.setState({targets:a,falls:n})}),100),s.interval=setInterval((function(){t-=1,s.setState({time:t},(function(){t<=0&&(console.log("time is up"),s.stopHandsfree())}))}),1e3)})),window.handsfree.on("data",(function(e){if(e.pose&&e.pose.poseLandmarks){var t=e.pose.poseLandmarks[19],a=e.pose.poseLandmarks[20],n=e.pose.poseLandmarks[31],o=e.pose.poseLandmarks[32],d=e.pose.poseLandmarks[0];s.setState({handle:{leftHand:t,rightHand:a,leftFoot:n,rightFoot:o,head:d}}),s.hitTarget(t),s.hitTarget(a)}}))},s.state={handle:{leftHand:{x:0,y:0,glow:!1},rightHand:{x:0,y:0,glow:!1},leftFoot:{x:0,y:0,glow:!1},rightFoot:{x:0,y:0,glow:!1},head:{x:0,y:0,glow:!1}},hits:0,falls:0,time:120,targets:[{x:.1,y:0,speed:.02},{x:.2,y:.1,speed:.03},{x:.4,y:.2,speed:.02},{x:.5,y:.3,speed:.03},{x:.9,y:.4,speed:.02}]},s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.handle,a=e.targets,s=e.hits,n=e.falls,o=e.time;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"controls",children:[Object(u.jsx)("div",{className:"score",children:"Score: ".concat(s-n)}),Object(u.jsxs)("div",{className:"button",children:[Object(u.jsx)("button",{type:"button",className:"handsfree-show-when-stopped handsfree-hide-when-loading",onClick:this.startHandsfree,children:"Start"}),Object(u.jsx)("button",{type:"button",className:"handsfree-show-when-loading",children:"Take 3 steps back and wait..."}),Object(u.jsx)("button",{type:"button",className:"handsfree-show-when-started",onClick:this.stopHandsfree,children:"Stop"})]}),Object(u.jsx)("div",{className:"time",children:"Time: ".concat(o)})]}),Object(u.jsxs)("div",{style:{width:window.handsfree.debug.$canvas.pose.clientWidth,height:window.handsfree.debug.$canvas.pose.clientHeight,zIndex:1,left:0,position:"absolute",overflow:"hidden"},children:[Object(u.jsx)("div",{className:"handle",style:Object(c.a)(Object(c.a)({},x(t.leftHand)),{},{border:"10px solid cyan"})}),Object(u.jsx)("div",{className:"handle",style:Object(c.a)(Object(c.a)({},x(t.rightHand)),{},{border:"10px solid cyan"})}),Object(u.jsx)("div",{className:"handle head",style:Object(c.a)(Object(c.a)({},x(t.head)),{},{border:"10px solid cyan"})}),a.map((function(e,t){return Object(u.jsx)("div",{className:"target left hand",style:Object(c.a)(Object(c.a)({},x(e)),{},{backgroundColor:.02===e.speed?"yellow":"cyan"})},t)}))]})]})}}]),a}(n.a.Component);a(40);window.handsfree=new i.a({pose:!0,showDebug:!0,assetsPath:"/assets"}),d.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b69743f3.chunk.js.map